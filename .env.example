# 🌐 Full Cloud Environment Configuration

## 📋 Required Environment Variables

### Vercel Project Environment Variables
# Add these in your Vercel dashboard: Settings > Environment Variables

# Database Configuration (Supabase)
SUPABASE_URL=https://your-project-ref.supabase.co
SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
SUPABASE_DB_URL=postgresql://postgres:[password]@db.your-project-ref.supabase.co:5432/postgres

# Google Maps API
GEOCODING_API_KEY=AIzaSyC...

# Frontend Configuration (Build-time variables)
VITE_SUPABASE_URL=https://your-project-ref.supabase.co
VITE_SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
VITE_API_URL=https://your-vercel-domain.vercel.app/api

# Node Environment
NODE_ENV=production

## 🔧 GitHub Secrets (for automated scraper)
# Add these in your GitHub repository: Settings > Secrets and Variables > Actions

# Supabase Configuration
SUPABASE_URL=https://your-project-ref.supabase.co
SUPABASE_SERVICE_ROLE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
SUPABASE_DB_URL=postgresql://postgres:[password]@db.your-project-ref.supabase.co:5432/postgres

## 🏠 Local Development (Optional)
# If you want to run locally for development, create these files:

### property-finder-api/.env.local
NODE_ENV=development
SUPABASE_URL=https://your-project-ref.supabase.co
SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
SUPABASE_DB_URL=postgresql://postgres:[password]@db.your-project-ref.supabase.co:5432/postgres
GEOCODING_API_KEY=AIzaSyC...
PORT=5000

### property-finder-ui/.env.local
VITE_SUPABASE_URL=https://your-project-ref.supabase.co
VITE_SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
VITE_API_URL=https://your-vercel-domain.vercel.app/api

## 🔑 How to Get Your Keys

### Supabase Keys
1. Go to https://supabase.com/dashboard
2. Select your project
3. Go to Settings > API
4. Copy:
   - Project URL (SUPABASE_URL)
   - Project Reference
   - anon/public key (SUPABASE_ANON_KEY)
   - service_role key (SUPABASE_SERVICE_ROLE_KEY) - Keep this secret!

### Database URL Format
postgresql://postgres:[password]@db.[project-ref].supabase.co:5432/postgres

Replace:
- [password] with your database password
- [project-ref] with your Supabase project reference

### Google Maps API Key
1. Go to https://console.cloud.google.com
2. Enable Geocoding API
3. Create credentials > API Key
4. Restrict the key to Geocoding API only

## 🚀 Deployment URLs

After setting up:
- **Live App**: https://your-vercel-domain.vercel.app
- **API**: https://your-vercel-domain.vercel.app/api
- **Database Admin**: https://supabase.com/dashboard/project/your-project-ref
- **Vercel Dashboard**: https://vercel.com/dashboard

## ✅ Verification

Test your configuration:
```bash
# Test API
curl https://your-vercel-domain.vercel.app/api/health

# Test search
curl "https://your-vercel-domain.vercel.app/api/search?query=test"
```

## 🔒 Security Notes

- Never commit actual keys to git
- Use Vercel environment variables for secrets
- Restrict Google Maps API key to necessary services only
- Use Supabase Row Level Security policies
- Service role key should only be used for server-side operations
